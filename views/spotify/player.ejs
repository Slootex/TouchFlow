<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<!--<script src="../artyom.js"></script>
<script src="../main.js"></script>-->
<script src="https://sdk.scdn.co/spotify-player.js"></script>
<script src="https://open.spotify.com/embed/iframe-api/v1" async></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


<div class="px-8 py-10 w-full rounded-3xl m-auto bg-zinc-700">
    <p class="text-3xl font-bold text-white">Spotify</p>
    

</div>


    <div id="spotify-player">
        <h1>Welcome to the Spotify Player!</h1>
        <div id="user-info">
            <h2>User Info:</h2>
            <p>User ID: <%= user.id %></p>
            <p>User Name: <%= user.name %></p>
            <!-- Add more user info if needed -->
        </div>
        <div id="playlists">
            <h2>Playlists:</h2>
            <% playlists.items.forEach(playlist => { %>
                <p><%= playlist.name %></p>
                <!-- Add more playlist details if needed -->
            <% }); %>
        </div>
        <div id="devices">
            <h2>Devices:</h2>
            <% devices.devices.forEach(device => { %>
                <p><%= device.name %></p>
                <!-- Add more device details if needed -->
            <% }); %>
        </div>
        <div id="current-song">
            <h2>Current Song:</h2>
            <p><%= currentSong.name %> - <%= currentSong.artist %></p>
            <!-- Add more current song details if needed -->
        </div>
        <div id="recent-songs">
            <h2>Recent Songs:</h2>
            <% recentSongs.items.forEach(song => { %>
                <p><%= song.name %> - <%= song.artist %></p>
                <!-- Add more recent song details if needed -->
            <% }); %>
        </div>
    </div>
<button onclick="nextSongOnCurrentDevice()">test</button>

<script>
    function nextSongOnCurrentDevice() {

        const currentDevice = '<%= currentDevice.device.id %>';
        $.ajax({
            url: '/spotify/pauseSong-'+currentDevice,
            type: 'POST',
            success: function(response) {
                console.log(response);
            }
        });
    }
</script>